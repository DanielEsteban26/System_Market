<Window x:Class="System_Market.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Minimarket"
        Height="684" Width="1200"
        WindowStartupLocation="CenterScreen"
        FontFamily="Segoe UI"
        Loaded="Window_Loaded"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <!-- Gradiente de fondo principal -->
        <LinearGradientBrush x:Key="MainBg" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#1A2980" Offset="0"/>
            <GradientStop Color="#26D0CE" Offset="1"/>
        </LinearGradientBrush>

        <!-- Colores menú -->
        <SolidColorBrush x:Key="MenuProductos" Color="#4F8CFF"/>
        <SolidColorBrush x:Key="MenuVentas" Color="#1CB5E0"/>
        <SolidColorBrush x:Key="MenuCompras" Color="#00C9A7"/>
        <SolidColorBrush x:Key="MenuProveedores" Color="#FFB347"/>
        <SolidColorBrush x:Key="MenuUsuarios" Color="#FF5E62"/>
        <SolidColorBrush x:Key="MenuCategorias" Color="#FF5858"/>
        <SolidColorBrush x:Key="MenuReportes" Color="#FF3E55"/>
        <SolidColorBrush x:Key="MenuAbout" Color="#43E97B"/>

        <!-- Tarjetas KPI (aumentadas) -->
        <Style TargetType="Border" x:Key="KpiCard">
            <Setter Property="Border.CornerRadius" Value="14"/>
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#232B3E" Offset="0"/>
                        <GradientStop Color="#1A2233" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Margin" Value="12"/>
            <Setter Property="Padding" Value="22"/>
            <Setter Property="MinHeight" Value="140"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="14" ShadowDepth="3" Color="#22000000"/>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="TextBlock" x:Key="KpiTitle">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#B0FFFFFF"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
        </Style>
        <Style TargetType="TextBlock" x:Key="KpiValue">
            <Setter Property="FontSize" Value="30"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>

        <!-- MenuButton: centrado + hover (escala + sombra + opacidad) -->
        <Style TargetType="Button" x:Key="MenuButton">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Height" Value="56"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Bd" Background="{TemplateBinding Background}" CornerRadius="12" Padding="12" Opacity="1">
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect x:Name="Shadow" BlurRadius="8" ShadowDepth="2" Color="#22000000"/>
                            </Border.Effect>

                            <!-- StackPanel centraliza icono + texto -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock FontFamily="Segoe MDL2 Assets"
                                           Text="{TemplateBinding Tag}"
                                           FontSize="22"
                                           VerticalAlignment="Center"
                                           Margin="0,0,12,0"/>
                                <ContentPresenter Content="{TemplateBinding Content}"
                                                  VerticalAlignment="Center"
                                                  RecognizesAccessKey="True"/>
                            </StackPanel>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="Bd"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                                             To="1.04" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="Bd"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                                             To="1.04" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="Shadow"
                                                             Storyboard.TargetProperty="BlurRadius"
                                                             To="18" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="Bd"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.96" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="Bd"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                                             To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="Bd"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                                             To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="Shadow"
                                                             Storyboard.TargetProperty="BlurRadius"
                                                             To="8" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="Bd"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="1" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Bd" Property="Opacity" Value="0.9"/>
                                <Setter TargetName="Bd" Property="Background" Value="#FFB0B0B0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Botones superiores (plantilla para esquinas redondeadas) con hover -->
        <Style TargetType="Button" x:Key="TopButton">
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="MinWidth" Value="110"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Background" Value="#3F51B5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="BdTop" Background="{TemplateBinding Background}" CornerRadius="18" Padding="{TemplateBinding Padding}" Opacity="1">
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect x:Name="ShadowTop" BlurRadius="6" ShadowDepth="1" Color="#22000000"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="BdTop"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                                             To="1.06" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdTop"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                                             To="1.06" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="ShadowTop"
                                                             Storyboard.TargetProperty="BlurRadius"
                                                             To="20" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdTop"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.98" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="BdTop"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                                             To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdTop"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                                             To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="ShadowTop"
                                                             Storyboard.TargetProperty="BlurRadius"
                                                             To="6" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdTop"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="1" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="Button" x:Key="TopButtonAccent" BasedOn="{StaticResource TopButton}">
            <Setter Property="Background" Value="#2196F3"/>
        </Style>
        <Style TargetType="Button" x:Key="TopButtonPurple" BasedOn="{StaticResource TopButton}">
            <Setter Property="Background" Value="#7B1FA2"/>
        </Style>

        <!-- Estilo para botones de Acciones Rápidas (con borde) — mantiene hover -->
        <Style TargetType="Button" x:Key="QuickActionButton" BasedOn="{StaticResource TopButton}">
            <Setter Property="Height" Value="36"/>
            <Setter Property="MinWidth" Value="140"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Margin" Value="0,0,10,10"/>
            <Setter Property="Background" Value="#3F51B5"/>
            <Setter Property="BorderBrush" Value="#2A3B4B"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="BdQ" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}" Opacity="1">
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <Border.Effect>
                                <DropShadowEffect x:Name="ShadowQ" BlurRadius="6" ShadowDepth="1" Color="#22000000"/>
                            </Border.Effect>

                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="BdQ"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                                             To="1.05" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdQ"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                                             To="1.05" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="ShadowQ"
                                                             Storyboard.TargetProperty="BlurRadius"
                                                             To="16" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdQ"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="0.97" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="BdQ"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                                             To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdQ"
                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                                             To="1" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="ShadowQ"
                                                             Storyboard.TargetProperty="BlurRadius"
                                                             To="6" Duration="0:0:0.12"/>
                                            <DoubleAnimation Storyboard.TargetName="BdQ"
                                                             Storyboard.TargetProperty="Opacity"
                                                             To="1" Duration="0:0:0.12"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Botón agregar acción rápida (hereda TopButton) -->
        <Style TargetType="Button" x:Key="BtnAgregarAccion" BasedOn="{StaticResource TopButton}">
            <Setter Property="Background" Value="#43E97B"/>
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="Margin" Value="8,0,0,0"/>
        </Style>

        <!-- Tarjeta acciones rápidas -->
        <Style TargetType="Border" x:Key="QuickActionCard" BasedOn="{StaticResource KpiCard}">
            <Setter Property="Padding" Value="18"/>
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#1A2233" Offset="0"/>
                        <GradientStop Color="#232B3E" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Background="{StaticResource MainBg}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="407*"/>
            <ColumnDefinition Width="63*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Menú lateral dentro de un Border para padding estable -->
        <Border Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Background="Transparent" Padding="14">
            <StackPanel>
                <TextBlock Text="Sistema Minimarket" FontSize="22" FontWeight="Bold" Foreground="White" Margin="6,6,6,20"/>
                <Button x:Name="btnProductos" Content="Productos" Tag="&#xE14C;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuProductos}" Click="BtnProductos_Click"/>
                <Button x:Name="btnVentas" Content="Ventas" Tag="&#xE7BF;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuVentas}" Click="BtnVentas_Click"/>
                <Button x:Name="btnCompras" Content="Compras" Tag="&#xE73E;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuCompras}" Click="BtnCompras_Click"/>
                <Button x:Name="btnProveedores" Content="Proveedores" Tag="&#xE716;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuProveedores}" Click="BtnProveedores_Click"/>
                <Button x:Name="btnUsuarios" Content="Usuarios" Tag="&#xE77B;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuUsuarios}" Click="BtnUsuarios_Click"/>
                <Button x:Name="btnCategorias" Content="Categorías" Tag="&#xE1CB;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuCategorias}" Click="BtnCategorias_Click"/>
                <Button x:Name="btnReportes" Content="Reportes" Tag="&#xE9D2;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuReportes}" Click="BtnReportes_Click"/>
                <Button x:Name="btnAbout" Content="Acerca de" Tag="&#xE946;" Style="{StaticResource MenuButton}" Background="{StaticResource MenuAbout}" Click="BtnAbout_Click"/>
            </StackPanel>
        </Border>

        <!-- Top bar -->
        <Grid Grid.Column="1" Grid.Row="0" Margin="8,12,24,0" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Centro: botones -->
            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button x:Name="btnDashboard" Content="Dashboard" Style="{StaticResource TopButtonPurple}" Click="BtnDashboard_Click"/>
                <Button x:Name="btnRefrescarDashboard" Content="Refrescar" Style="{StaticResource TopButtonAccent}" Click="BtnRefrescarDashboard_Click"/>
            </StackPanel>

            <!-- Derecha: usuario -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,0,0">
                <TextBlock x:Name="txtUsuarioActual" Foreground="White" FontWeight="Bold" FontSize="15" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <Border x:Name="bdRol" Background="#546E7A" CornerRadius="12" Padding="8,4" VerticalAlignment="Center" Margin="0,0,8,0">
                    <TextBlock x:Name="txtRolUsuario" Text="Administrador" Foreground="White" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center"/>
                </Border>
                <Border Width="38" Height="38" CornerRadius="19" Background="#FFF" Margin="0,0,8,0" VerticalAlignment="Center">
                    <TextBlock Text="&#xE77B;" FontFamily="Segoe MDL2 Assets" FontSize="20" Foreground="#3F51B5" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
                <Button x:Name="btnCerrarSesion" Content="Cerrar sesión" Style="{StaticResource TopButton}" Background="#E53935" Click="BtnLogout_Click"/>
            </StackPanel>
        </Grid>

        <!-- Contenido principal con padding para separación -->
        <Border Grid.Column="1" Grid.Row="1" Padding="18" Margin="8,14,24,18" Background="Transparent" Grid.ColumnSpan="2">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>

                    <!-- KPIs: 4 columnas -->
                    <UniformGrid Rows="1" Columns="4" Margin="0,0,0,12">
                        <Border Style="{StaticResource KpiCard}">
                            <StackPanel>
                                <TextBlock Text="&#xE14C;" FontFamily="Segoe MDL2 Assets" FontSize="34" Foreground="#81D4FA" Margin="0,0,0,6"/>
                                <TextBlock Text="Productos" Style="{StaticResource KpiTitle}"/>
                                <TextBlock x:Name="txtTotalProductos" Text="0" Style="{StaticResource KpiValue}" FontSize="17.5"/>
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource KpiCard}">
                            <StackPanel>
                                <TextBlock Text="&#xE7BF;" FontFamily="Segoe MDL2 Assets" FontSize="34" Foreground="#81D4FA" Margin="0,0,0,6"/>
                                <TextBlock Text="Ventas Hoy" Style="{StaticResource KpiTitle}"/>
                                <TextBlock x:Name="txtVentasHoy" Text="S/ 0.00" Style="{StaticResource KpiValue}" FontSize="17.5"/>
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource KpiCard}">
                            <StackPanel>
                                <TextBlock Text="&#xE73E;" FontFamily="Segoe MDL2 Assets" FontSize="34" Foreground="#81D4FA" Margin="0,0,0,6"/>
                                <TextBlock Text="Compras Hoy" Style="{StaticResource KpiTitle}"/>
                                <TextBlock x:Name="txtComprasHoy" Text="S/ 0.00" Style="{StaticResource KpiValue}" FontSize="17.5"/>
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource KpiCard}">
                            <StackPanel>
                                <TextBlock Text="&#xE710;" FontFamily="Segoe MDL2 Assets" FontSize="34" Foreground="#81D4FA" Margin="0,0,0,6"/>
                                <TextBlock Text="Stock Bajo" Style="{StaticResource KpiTitle}"/>
                                <TextBlock x:Name="txtStockBajo" Text="0" Style="{StaticResource KpiValue}" FontSize="17.5"/>
                            </StackPanel>
                        </Border>
                    </UniformGrid>

                    <!-- Más vendido -->
                    <Border Style="{StaticResource KpiCard}" Margin="0,0,0,18" MinHeight="88">
                        <StackPanel>
                            <TextBlock Text="&#xE732;" FontFamily="Segoe MDL2 Assets" FontSize="22" Foreground="#81D4FA" Margin="0,0,0,4"/>
                            <TextBlock Text="Más Vendido Hoy" Style="{StaticResource KpiTitle}"/>
                            <TextBlock x:Name="txtProductoMasVendido" Text="Sin ventas" Style="{StaticResource KpiValue}" FontSize="18" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>

                    <!-- Acciones rápidas -->
                    <Border Style="{StaticResource QuickActionCard}">
                        <StackPanel>
                            <TextBlock Text="Acciones rápidas" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,12" Foreground="#FFF"/>
                            <ItemsControl x:Name="icQuickActions">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Button Style="{StaticResource QuickActionButton}" Click="QuickAction_Click" ToolTip="Click para ejecutar. Clic derecho para quitar.">
                                            <Button.ContextMenu>
                                                <ContextMenu>
                                                    <MenuItem Header="Quitar" Click="QuickAction_Quitar_Click"/>
                                                </ContextMenu>
                                            </Button.ContextMenu>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="{Binding Icono}" Margin="0,0,8,0" Foreground="White" VerticalAlignment="Center"/>
                                                <TextBlock Text="{Binding Titulo}" Foreground="White" VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </Button>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <!-- Agregar nueva acción -->
                            <Grid Margin="0,14,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <ComboBox x:Name="cbAccion" Grid.Column="0" Height="36" Padding="8,0"
                                          DisplayMemberPath="Titulo" SelectedValuePath="Clave"
                                          materialDesign:HintAssist.Hint="Agregar acción rápida"
                                          VerticalAlignment="Center"/>
                                <Button Grid.Column="1" Style="{StaticResource BtnAgregarAccion}" Content="Agregar" Click="BtnAgregarAccion_Click"/>
                            </Grid>

                            <TextBlock Text="Puedes reusar, agregar y quitar acciones. Se guardan para la próxima sesión."
                                       Margin="6,12,0,0" Foreground="#B0FFFFFF" FontSize="12"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>