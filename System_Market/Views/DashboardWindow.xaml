<Window x:Class="System_Market.Views.DashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:lvc="http://livecharts.com/schemas"
        Title="Dashboard"
        Height="1020" Width="1380"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="Segoe UI"
        UseLayoutRounding="True"
        Loaded="Window_Loaded">

    <Window.Resources>
        <!-- Paleta -->
        <SolidColorBrush x:Key="DashboardCardBackground" Color="#263238"/>
        <LinearGradientBrush x:Key="DashboardCardBackgroundGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#2B3C45" Offset="0"/>
            <GradientStop Color="#1F2E34" Offset="1"/>
        </LinearGradientBrush>
        <SolidColorBrush x:Key="DashboardCardForeground" Color="#FAFAFA"/>

        <!-- Colores semánticos -->
        <SolidColorBrush x:Key="ColorSuccess" Color="#4CAF50"/>
        <SolidColorBrush x:Key="ColorWarn"    Color="#FFC107"/>
        <SolidColorBrush x:Key="ColorDanger"  Color="#EF5350"/>

        <!-- Card métrica base -->
        <Style TargetType="materialDesign:Card" x:Key="CardMetricBase">
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Padding" Value="14"/>
            <Setter Property="MinHeight" Value="160"/>
            <Setter Property="Background" Value="{StaticResource DashboardCardBackgroundGradient}"/>
            <Setter Property="Foreground" Value="{StaticResource DashboardCardForeground}"/>
            <Setter Property="materialDesign:ShadowAssist.ShadowDepth" Value="Depth2"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="materialDesign:ShadowAssist.ShadowDepth" Value="Depth4"/>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.025" ScaleY="1.025"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Card draggable -->
        <Style x:Key="DraggableMetricCard"
               TargetType="materialDesign:Card"
               BasedOn="{StaticResource CardMetricBase}">
            <EventSetter Event="PreviewMouseLeftButtonDown" Handler="Card_PreviewMouseLeftButtonDown"/>
            <EventSetter Event="PreviewMouseMove" Handler="Card_PreviewMouseMove"/>
        </Style>

        <!-- Tipografía -->
        <Style TargetType="TextBlock" x:Key="MetricTitle">
            <Setter Property="FontSize" Value="12.5"/>
            <Setter Property="Foreground" Value="#B0FFFFFF"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        <Style TargetType="TextBlock" x:Key="MetricValue">
            <Setter Property="FontSize" Value="23"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#FF90CAF9"/>
        </Style>

        <!-- Botones -->
        <Style x:Key="RaisedButtonBase" TargetType="Button" BasedOn="{StaticResource MaterialDesignRaisedButton}">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
            <Setter Property="MinWidth" Value="110"/>
            <Setter Property="materialDesign:ShadowAssist.ShadowDepth" Value="Depth1"/>
        </Style>
        <Style x:Key="BtnPrimary" TargetType="Button" BasedOn="{StaticResource RaisedButtonBase}">
            <Setter Property="Background" Value="#3F51B5"/>
        </Style>
        <Style x:Key="BtnInfo" TargetType="Button" BasedOn="{StaticResource RaisedButtonBase}">
            <Setter Property="Background" Value="#0288D1"/>
        </Style>
        <Style x:Key="BtnSuccess" TargetType="Button" BasedOn="{StaticResource RaisedButtonBase}">
            <Setter Property="Background" Value="#2E7D32"/>
        </Style>
        <Style x:Key="BtnAccentAlt" TargetType="Button" BasedOn="{StaticResource RaisedButtonBase}">
            <Setter Property="Background" Value="#7E57C2"/>
        </Style>

        <!-- Acciones rápidas -->
        <Style x:Key="QuickActionButton" TargetType="Button" BasedOn="{StaticResource RaisedButtonBase}">
            <Setter Property="Background" Value="#455A64"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Margin" Value="0,0,10,10"/>
            <Setter Property="MinWidth" Value="160"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="ToolTip" Value="Click para ejecutar. Clic derecho para quitar."/>
        </Style>

        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="17"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{DynamicResource PrimaryHueMidBrush}"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
        </Style>
    </Window.Resources>

    <Grid Margin="18,14,18,10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Encabezado -->
        <Grid Grid.Row="0" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" Grid.Column="0" VerticalAlignment="Center">
                <TextBlock Text="Dashboard" FontSize="22" FontWeight="Bold"
                           Foreground="{DynamicResource PrimaryHueMidBrush}" Margin="0,0,18,0"/>
                <TextBlock Text="Resumen general" FontSize="16" Opacity="0.85" VerticalAlignment="Center"/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" Grid.Column="2" VerticalAlignment="Center">
                <Button Content="Refrescar" Style="{StaticResource BtnPrimary}" Click="BtnRefrescarDashboard_Click"/>
                <Button x:Name="btnLayout" Content="Layout" Style="{StaticResource BtnAccentAlt}" Click="BtnLayout_Click"/>
                <Button x:Name="btnCompacto" Content="Compacto" Style="{StaticResource BtnInfo}" Click="BtnCompacto_Click"/>
                <Button x:Name="btnExportar" Style="{StaticResource BtnSuccess}" ToolTip="Exportar (clic) / Ctrl+Enter resumen"
                        Click="BtnExportar_Click" PreviewKeyDown="BtnExportar_PreviewKeyDown">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE118;" Margin="0,0,6,0" FontSize="15"/>
                        <TextBlock Text="Exportar"/>
                        <TextBlock Text=" ▼" FontSize="12" Opacity="0.7" Margin="4,0,0,0"/>
                    </StackPanel>
                    <Button.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Exportar Resumen..." Click="ExportarResumen_Click"/>
                            <MenuItem Header="Exportar Detalle..." Click="ExportarDetalle_Click"/>
                            <Separator/>
                            <MenuItem Header="Exportar Top 5..." Click="ExportarTop_Click"/>
                        </ContextMenu>
                    </Button.ContextMenu>
                </Button>
            </StackPanel>

            <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center" Margin="18,0,0,0">
                <TextBlock Text="Usuario:" Margin="0,0,6,0" Opacity="0.7" VerticalAlignment="Center"/>
                <TextBlock x:Name="txtUsuarioActual" FontWeight="SemiBold"
                           Foreground="{DynamicResource PrimaryHueMidBrush}"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <!-- Filtros -->
        <Border Grid.Row="1" Background="#1E2A30" CornerRadius="6" Padding="12" Margin="0,0,0,16"
                materialDesign:ShadowAssist.ShadowDepth="Depth2">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <TextBlock Text="Desde:" Margin="0,0,6,0" VerticalAlignment="Center" Foreground="#E0E0E0"/>
                <DatePicker x:Name="dpDesde" Width="150" SelectedDateChanged="FiltroFecha_Changed"/>
                <TextBlock Text="Hasta:" Margin="16,0,6,0" VerticalAlignment="Center" Foreground="#E0E0E0"/>
                <DatePicker x:Name="dpHasta" Width="150" SelectedDateChanged="FiltroFecha_Changed"/>
                <TextBlock Text="Umbral Stock Bajo:" Margin="16,0,6,0" VerticalAlignment="Center" Foreground="#E0E0E0"/>
                <TextBox x:Name="txtUmbralStock" Width="70" Text="5" VerticalContentAlignment="Center"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
                <Button Content="Aplicar" Style="{StaticResource BtnPrimary}" Click="BtnAplicarFiltros_Click" Margin="18,0,0,0"/>
            </StackPanel>
        </Border>

        <!-- Contenido -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="660"/>
                <ColumnDefinition Width="16"/>
                <ColumnDefinition Width="*" MinWidth="520"/>
            </Grid.ColumnDefinitions>

            <!-- Indicadores -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Indicadores" Style="{StaticResource SectionHeader}" Grid.Row="0"/>

                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <Border Background="#1E2A30" CornerRadius="6" Padding="4,4,4,10"
                            materialDesign:ShadowAssist.ShadowDepth="Depth2">
                        <UniformGrid x:Name="MetricsPanel"
                                     Columns="2"
                                     AllowDrop="True"
                                     PreviewDragOver="MetricsPanel_PreviewDragOver"
                                     Drop="MetricsPanel_Drop"
                                     Margin="4">

                            <materialDesign:Card x:Name="cardVentasRango" Style="{StaticResource DraggableMetricCard}"
                                                 MouseLeftButtonUp="CardVentas_Click">
                                <StackPanel>
                                    <TextBlock Text="Ventas (Rango)" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtVentasRango" Text="S/ 0.00" Style="{StaticResource MetricValue}"/>
                                    <Polyline x:Name="sparkVentas7" Margin="0,8,0,0" Height="28"
                                              Stretch="Fill" StrokeThickness="2" Stroke="#4FC3F7"
                                              Points="0,10 20,10 40,10 60,10 80,10 100,10 120,10"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardCantidadVentas" Style="{StaticResource DraggableMetricCard}">
                                <StackPanel>
                                    <TextBlock Text="Nº Ventas" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtCantidadVentas" Text="0" Style="{StaticResource MetricValue}"/>
                                    <TextBlock Text="Transacciones" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardUnidadesRango" Style="{StaticResource DraggableMetricCard}">
                                <StackPanel>
                                    <TextBlock Text="Unidades (Rango)" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtUnidadesRango" Text="0" Style="{StaticResource MetricValue}"/>
                                    <TextBlock Text="Suma cantidades" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardUnidadesHoy" Style="{StaticResource DraggableMetricCard}">
                                <StackPanel>
                                    <TextBlock Text="Unidades Hoy" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtUnidadesHoy" Text="0" Style="{StaticResource MetricValue}"/>
                                    <TextBlock Text="Día actual" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardCompras" Style="{StaticResource DraggableMetricCard}"
                                                 MouseLeftButtonUp="CardCompras_Click">
                                <StackPanel>
                                    <TextBlock Text="Compras (Rango)" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtComprasRango" Text="S/ 0.00" Style="{StaticResource MetricValue}"/>
                                    <TextBlock Text="Abastecimiento" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardProductos" Style="{StaticResource DraggableMetricCard}"
                                                 MouseLeftButtonUp="CardProductos_Click">
                                <StackPanel>
                                    <TextBlock Text="Productos" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtTotalProductos" Text="0" Style="{StaticResource MetricValue}"/>
                                    <TextBlock Text="Catálogo" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardStockBajo" Style="{StaticResource DraggableMetricCard}"
                                                 MouseLeftButtonUp="CardStockBajo_Click">
                                <StackPanel>
                                    <TextBlock Text="Stock Bajo" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtStockBajo" Text="0" Style="{StaticResource MetricValue}"/>
                                    <TextBlock x:Name="txtPorcStockBajo" Text="0%" FontSize="11" Foreground="#FFF48FB1"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardMasVendido" Style="{StaticResource DraggableMetricCard}">
                                <StackPanel>
                                    <TextBlock Text="Más Vendido" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtProductoMasVendido" Text="Sin datos" Style="{StaticResource MetricValue}"
                                               FontSize="18" TextWrapping="Wrap"/>
                                    <TextBlock Text="Top 1" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardVentasHoy" Style="{StaticResource DraggableMetricCard}">
                                <StackPanel>
                                    <TextBlock Text="Ventas Hoy" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtVentasHoy" Text="S/ 0.00" Style="{StaticResource MetricValue}"/>
                                    <TextBlock Text="Día actual" FontSize="11" Opacity="0.75"/>
                                </StackPanel>
                            </materialDesign:Card>

                            <materialDesign:Card x:Name="cardMetaMes" Style="{StaticResource DraggableMetricCard}">
                                <StackPanel>
                                    <TextBlock Text="Meta Mes" Style="{StaticResource MetricTitle}"/>
                                    <TextBlock x:Name="txtVentasMes" Text="S/ 0.00" Style="{StaticResource MetricValue}"/>

                                    <StackPanel Orientation="Horizontal" Margin="0,4,0,0" x:Name="panelMetaValor" Visibility="Collapsed">
                                        <TextBlock x:Name="txtMetaMesValor" Text="Meta: S/ 0.00" FontSize="11" Foreground="#B0FFFFFF"/>
                                        <Button x:Name="btnEditarMeta" Width="28" Height="24" Padding="0" Margin="8,0,0,0"
                                                Style="{StaticResource MaterialDesignFlatButton}"
                                                ToolTip="Editar meta" Click="DefinirMeta_Click" Visibility="Collapsed">
                                            <TextBlock Text="&#xE70F;" FontFamily="Segoe MDL2 Assets" FontSize="14"/>
                                        </Button>
                                    </StackPanel>

                                    <TextBlock x:Name="txtMetaNoDefinida" FontSize="11" Foreground="#FFEE9999" TextWrapping="Wrap" Margin="0,4,0,0">
                                        <Run Text="Meta no definida. "/><Hyperlink Click="DefinirMeta_Click">Definir ahora</Hyperlink>
                                    </TextBlock>

                                    <ProgressBar x:Name="pbMetaMes" Height="6" Margin="0,8,0,0" Minimum="0" Maximum="100"
                                                 Style="{StaticResource MaterialDesignLinearProgressBar}"
                                                 Foreground="{DynamicResource PrimaryHueMidBrush}"
                                                 Background="#28FFFFFF" Visibility="Collapsed"/>

                                    <StackPanel Orientation="Horizontal" Margin="0,6,0,0" x:Name="panelDetallesMeta" Visibility="Collapsed">
                                        <TextBlock x:Name="txtMetaMesPorc" Text="0%" FontSize="11" Foreground="#B0FFFFFF" Margin="0,0,14,0"/>
                                        <TextBlock x:Name="txtMetaMesDetalle" Text="Proy: S/ 0.00" FontSize="11" Foreground="#B0FFFFFF" Margin="0,0,14,0"/>
                                        <TextBlock x:Name="txtMetaMesNecesario" Text="Nec: S/ 0.00/d" FontSize="11" Foreground="#B0FFFFFF"/>
                                    </StackPanel>
                                </StackPanel>
                            </materialDesign:Card>
                        </UniformGrid>
                    </Border>
                </ScrollViewer>
            </Grid>

            <!-- Panel derecho -->
            <ScrollViewer Grid.Column="2" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="Ventas y Stock" Style="{StaticResource SectionHeader}" Margin="0,0,0,10"/>

                    <materialDesign:Card Padding="14" Background="{StaticResource DashboardCardBackground}"
                                         materialDesign:ShadowAssist.ShadowDepth="Depth2" Margin="0,0,0,14">
                        <DockPanel>
                            <TextBlock Text="Top 5 productos (rango)" DockPanel.Dock="Top"
                                       FontWeight="SemiBold" FontSize="15" Margin="0,0,0,10"
                                       Foreground="{StaticResource DashboardCardForeground}"/>
                            <ListView x:Name="lvTopVendidos" BorderThickness="0" Height="190"
                                      Foreground="{StaticResource DashboardCardForeground}">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="#" Width="40" DisplayMemberBinding="{Binding Pos}"/>
                                        <GridViewColumn Header="Producto" Width="200" DisplayMemberBinding="{Binding Nombre}"/>
                                        <GridViewColumn Header="Cant." Width="90" DisplayMemberBinding="{Binding Cantidad}"/>
                                        <GridViewColumn Header="Importe" Width="110" DisplayMemberBinding="{Binding Importe}"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </DockPanel>
                    </materialDesign:Card>

                    <materialDesign:Card Padding="14" Background="{StaticResource DashboardCardBackground}"
                                         materialDesign:ShadowAssist.ShadowDepth="Depth2" Margin="0,0,0,14">
                        <DockPanel>
                            <TextBlock Text="Productos con stock bajo" DockPanel.Dock="Top"
                                       FontWeight="SemiBold" FontSize="15" Margin="0,0,0,10"
                                       Foreground="{StaticResource DashboardCardForeground}"/>
                            <DataGrid x:Name="dgStockBajo" AutoGenerateColumns="False" CanUserAddRows="False"
                                      Height="190" IsReadOnly="True" HeadersVisibility="Column"
                                      Foreground="{StaticResource DashboardCardForeground}" Background="Transparent">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Nombre" Binding="{Binding Nombre}" Width="*"/>
                                    <DataGridTextColumn Header="Stock" Binding="{Binding Stock}" Width="80"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </DockPanel>
                    </materialDesign:Card>

                    <TextBlock Text="Acciones rápidas" Style="{StaticResource SectionHeader}" Margin="0,4,0,10"/>

                    <materialDesign:Card Padding="14" Background="{StaticResource DashboardCardBackground}"
                                         materialDesign:ShadowAssist.ShadowDepth="Depth2">
                        <StackPanel>
                            <ItemsControl x:Name="icQuickActions">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Button Style="{StaticResource QuickActionButton}" Click="QuickAction_Click">
                                            <Button.ContextMenu>
                                                <ContextMenu>
                                                    <MenuItem Header="Quitar" Click="QuickAction_Quitar_Click"/>
                                                </ContextMenu>
                                            </Button.ContextMenu>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="{Binding Icono}" Margin="0,0,6,0"/>
                                                <TextBlock Text="{Binding Titulo}"/>
                                            </StackPanel>
                                        </Button>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <DockPanel Margin="0,14,0,0">
                                <ComboBox x:Name="cbAccion" Width="240" DisplayMemberPath="Titulo" SelectedValuePath="Clave"
                                          materialDesign:HintAssist.Hint="Agregar acción rápida"/>
                                <Button Content="Agregar" Margin="10,0,0,0" Click="BtnAgregarAccion_Click">
                                    <Button.Style>
                                        <Style TargetType="Button" BasedOn="{StaticResource BtnSuccess}">
                                            <Setter Property="IsEnabled" Value="True"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding SelectedValue, ElementName=cbAccion}" Value="{x:Null}">
                                                    <Setter Property="IsEnabled" Value="False"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </DockPanel>
                        </StackPanel>
                    </materialDesign:Card>
                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!-- Overlay -->
        <Grid x:Name="LoadingOverlay" Background="#80000000" Visibility="Collapsed" Panel.ZIndex="30">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <ProgressBar IsIndeterminate="True" Width="260" Height="6"/>
                <TextBlock Text="Cargando..." Foreground="White" FontSize="15" Margin="0,12,0,0"/>
            </StackPanel>
        </Grid>

        <!-- Snackbar -->
        <Grid x:Name="SnackbarOverlay" Grid.RowSpan="3" IsHitTestVisible="False" Panel.ZIndex="40">
            <materialDesign:Snackbar x:Name="MainSnackbar"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Bottom"
                                     Margin="0,0,22,22"
                                     Focusable="False"
                                     IsHitTestVisible="False"/>
        </Grid>
    </Grid>
</Window>